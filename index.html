<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Focus Light Test</title>
  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Ensure body is centered for demo */
    body {
      background: #111;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      margin: 0;
    }
  </style>
</head>
<body>

  <!-- Card wrapper -->
  <div class="relative overflow-hidden rounded-2xl bg-black p-6 w-[360px] h-[353px]">
    <!-- Canvas-based focus light (Huly style) -->
    <div
      class="absolute left-1/2 top-0 -translate-x-1/2 -z-10 w-full aspect-[1.01904] sm:-top-12 xs:-top-8 overflow-hidden pointer-events-none"
      aria-hidden="true"
    >
      <canvas id="focus-canvas" class="w-full h-full"></canvas>
    </div>

    <!-- Card Content -->
    <div class="relative z-10 text-white flex flex-col h-full">
      <div class="flex-1">
        <h3 class="text-xl font-semibold">Keyboard shortcuts.</h3>
        <p class="mt-2 text-gray-300">
          Work efficiently with instant access to common actions.
        </p>
      </div>
      <div class="px-6 pb-4 bg-gradient-to-t from-black/80 to-transparent">
        <p class="text-white text-sm">
          Press <kbd class="bg-gray-700 text-gray-300 rounded px-1">M</kbd> to highlight this card.
        </p>
      </div>
    </div>
  </div>

  <!-- Canvas script driving the sharp-edged focus light -->
  <script>
    (function(){
      const canvas = document.getElementById('focus-canvas');
      const ctx = canvas.getContext('2d');
      let W, H, t = 0;

      function resize(){
        const parent = canvas.parentElement;
        W = canvas.width  = parent.offsetWidth;
        H = canvas.height = parent.offsetHeight;
      }
      window.addEventListener('resize', resize);
      resize();

      function draw(){
        t += 0.008;
        ctx.clearRect(0, 0, W, H);

        // Centered at top 25%, with slight drift
        const cx = W / 2;
        const cy = H * 0.25 + Math.sin(t * 1.5) * 10;

        // Inner/outer radii
        const r0 = W * 0.05;
        const r1 = W * 0.5;

        // Radial gradient: sharp fall-off
        const grad = ctx.createRadialGradient(cx, cy, r0, cx, cy, r1);
        grad.addColorStop(0.0, 'rgba(255,220,100,0.5)');
        grad.addColorStop(0.3, 'rgba(255,200,50,0.2)');
        grad.addColorStop(1.0, 'rgba(255,200,50,0)');

        ctx.fillStyle = grad;
        ctx.fillRect(0, 0, W, H);

        requestAnimationFrame(draw);
      }
      draw();
    })();
  </script>

</body>
</html>
